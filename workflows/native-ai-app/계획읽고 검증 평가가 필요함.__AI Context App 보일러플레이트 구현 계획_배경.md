<img src="https://r2cdn.perplexity.ai/pplx-full-logo-primary-dark%402x.png" style="height:64px;margin-right:32px"/>

# ê³„íšì½ê³  ê²€ì¦ í‰ê°€ê°€ í•„ìš”í•¨.

AI Context App ë³´ì¼ëŸ¬í”Œë ˆì´íŠ¸ êµ¬í˜„ ê³„íš
ë°°ê²½
ìì‚°ê´€ë¦¬, ë¦¬ë”ì‹­ ê´€ë¦¬, ê²Œì„ êµìœ¡, ì›¹íˆ° ì œì‘ ë“± ë„ë©”ì¸ë§Œ ë°”ê¿”ì„œ ë°˜ë³µ ìƒì„±í•  ì•± êµ¬ì¡°:
ì›¹ UI = ì»¨í…ìŠ¤íŠ¸ ê´€ë¦¬ (CRUD)
ì±„íŒ…/ë¶„ì„ = Claude Code CLI + MCP ì„œë²„
í˜„ì¬ my-products/ì˜ 9ê°œ í”„ë¡œì íŠ¸ ì¤‘ MCP í†µí•©ì€ í•˜ë‚˜ë„ ì—†ìŒ. ì´ë²ˆì— ë³´ì¼ëŸ¬í”Œë ˆì´íŠ¸ë¡œ í‘œì¤€í™”.
---
ì¹´í…Œê³ ë¦¬ \& ë„¤ì´ë°
ì¹´í…Œê³ ë¦¬: ai-context/ (ìƒˆ í´ë”)
ë³´ì¼ëŸ¬í”Œë ˆì´íŠ¸ ì´ë¦„: react-router-ssr-mcp (ë„¤ì´ë° ì»¨ë²¤ì…˜ {framework}-{rendering}[-{feature}])
my-boilerplates/
â”œâ”€â”€ web/           \# ê¸°ì¡´
â”œâ”€â”€ cli/           \# ê¸°ì¡´
â”œâ”€â”€ bot/           \# ê¸°ì¡´
â”œâ”€â”€ game/          \# ê¸°ì¡´
â”œâ”€â”€ native-app/    \# ê¸°ì¡´
â”œâ”€â”€ lib/           \# ê¸°ì¡´
â””â”€â”€ ai-context/    \# ğŸ†• ìƒˆ ì¹´í…Œê³ ë¦¬
â”œâ”€â”€ README.md
â”œâ”€â”€ docs/
â”‚   â””â”€â”€ index.md
â””â”€â”€ react-router-ssr-mcp/   \# ì²« ë²ˆì§¸ ë³´ì¼ëŸ¬í”Œë ˆì´íŠ¸
í–¥í›„ í™•ì¥:
react-router-ssr-mcp-cloudflare (Workers ë°°í¬)
tanstack-start-ssr-mcp (TanStack ë³€í˜•)
---
ë³´ì¼ëŸ¬í”Œë ˆì´íŠ¸ êµ¬ì¡°
ai-context/react-router-ssr-mcp/
â”œâ”€â”€ .mcp.json                    \# MCP ì„œë²„ ì„¤ì • (Claude Code ìë™ ì¸ì‹)
â”œâ”€â”€ CLAUDE.md                    \# í”„ë¡œì íŠ¸ ì§€ì¹¨ (ë„ë©”ì¸ë³„ ì»¤ìŠ¤í…€)
â”œâ”€â”€ README.md
â”œâ”€â”€ package.json
â”œâ”€â”€ tsconfig.json
â”œâ”€â”€ vite.config.ts
â”œâ”€â”€ react-router.config.ts
â”œâ”€â”€ components.json              \# shadcn/ui
â”œâ”€â”€ drizzle.config.ts
â”œâ”€â”€ Dockerfile                   \# ë©€í‹°ìŠ¤í…Œì´ì§€ (node:22-alpine)
â”œâ”€â”€ docker-compose.yml           \# ë¡œì»¬ ê°œë°œìš©
â”œâ”€â”€ .nvmrc                       \# 22
â”œâ”€â”€ .gitignore
â”‚
â”œâ”€â”€ app/                         \# ì›¹ ì•± (~/* â†’ ./app/*)
â”‚   â”œâ”€â”€ app.css                  \# Tailwind v4 + OKLch í…Œë§ˆ
â”‚   â”œâ”€â”€ root.tsx                 \# ì•± ì…¸ (ì‚¬ì´ë“œë°” ë ˆì´ì•„ì›ƒ)
â”‚   â”œâ”€â”€ entry.server.tsx         \# SSR ì—”íŠ¸ë¦¬
â”‚   â”œâ”€â”€ routes.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ db/
â”‚   â”‚   â”œâ”€â”€ schema.ts            \# ğŸ¯ ë„ë©”ì¸ë³„ ì»¤ìŠ¤í…€ (ì˜ˆì‹œ: ìì‚°ê´€ë¦¬)
â”‚   â”‚   â”œâ”€â”€ index.ts             \# DB ì—°ê²° (better-sqlite3, WAL)
â”‚   â”‚   â””â”€â”€ seed.ts              \# ìƒ˜í”Œ ë°ì´í„°
â”‚   â”‚
â”‚   â”œâ”€â”€ lib/
â”‚   â”‚   â”œâ”€â”€ utils.ts             \# cn()
â”‚   â”‚   â””â”€â”€ queries.ts           \# ğŸ¯ ë„ë©”ì¸ë³„ ì»¤ìŠ¤í…€ (ê³µìœ  ì¿¼ë¦¬)
â”‚   â”‚
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ ui/                  \# shadcn/ui (button, card, table, dialog, form...)
â”‚   â”‚   â””â”€â”€ layout/
â”‚   â”‚       â”œâ”€â”€ app-shell.tsx    \# ì‚¬ì´ë“œë°” + í—¤ë” + ì½˜í…ì¸ 
â”‚   â”‚       â”œâ”€â”€ sidebar.tsx      \# ë„¤ë¹„ê²Œì´ì…˜
â”‚   â”‚       â””â”€â”€ header.tsx
â”‚   â”‚
â”‚   â””â”€â”€ routes/
â”‚       â”œâ”€â”€ home.tsx             \# ëŒ€ì‹œë³´ë“œ
â”‚       â”œâ”€â”€ items.tsx            \# ğŸ¯ ë„ë©”ì¸ ì—”í‹°í‹° ëª©ë¡ (ì˜ˆ: portfolios)
â”‚       â”œâ”€â”€ items.\$id.tsx        \# ğŸ¯ ë„ë©”ì¸ ì—”í‹°í‹° ìƒì„¸
â”‚       â””â”€â”€ import.tsx           \# CSV/JSON ì„í¬íŠ¸
â”‚
â””â”€â”€ mcp/                         \# MCP ì„œë²„ (ë³„ë„ í”„ë¡œì„¸ìŠ¤)
â”œâ”€â”€ index.ts                 \# stdio transport ë©”ì¸
â”œâ”€â”€ tools/
â”‚   â”œâ”€â”€ list-tools.ts        \# ğŸ¯ ë„ë©”ì¸ë³„ ì»¤ìŠ¤í…€
â”‚   â””â”€â”€ analysis-tools.ts    \# ğŸ¯ ë„ë©”ì¸ë³„ ì»¤ìŠ¤í…€
â”œâ”€â”€ resources/
â”‚   â””â”€â”€ snapshot-resource.ts
â””â”€â”€ prompts/
â””â”€â”€ analysis-prompt.ts   \# ğŸ¯ ë„ë©”ì¸ë³„ ì»¤ìŠ¤í…€
ğŸ¯ í‘œì‹œ = degit í›„ ë„ë©”ì¸ì— ë§ê²Œ ìˆ˜ì •í•  íŒŒì¼. ë‚˜ë¨¸ì§€ëŠ” ê·¸ëŒ€ë¡œ ì‚¬ìš©.
---
ê¸°ìˆ  ìŠ¤íƒ (ê¸°ì¡´ my-products íŒ¨í„´ 100% ì¤€ìˆ˜)
Layer
Technology
ê·¼ê±°
-------
-----------
------
Framework
React Router v7 SSR
9ê°œ í”„ë¡œì íŠ¸ ì¤‘ 7ê°œ ì‚¬ìš©
Runtime
Node.js 22
ì „ì²´ í‘œì¤€
Styling
Tailwind CSS v4 + shadcn/ui (new-york) + lucide-react
ì „ì²´ í‘œì¤€
Path Alias
~/* â†’ ./app/*
React Router í‘œì¤€
DB
SQLite + Drizzle ORM + better-sqlite3
ê°€ë³ê³  íŒŒì¼ ê¸°ë°˜, Docker ë³¼ë¥¨ ë§ˆìš´íŠ¸
MCP
@modelcontextprotocol/sdk
ï¿½ï¿½ï¿½ Claude Code ë„¤ì´í‹°ë¸Œ ì§€ì›
Build
Vite 7
ì „ì²´ í‘œì¤€
Deploy
Docker multi-stage
ê¸°ì¡´ í™ˆì„œë²„ ì¸í”„ë¼
TypeScript
strict, verbatimModuleSyntax
ì „ì²´ í‘œì¤€
Prisma ëŒ€ì‹  Drizzle ì„ íƒ ì´ìœ :
MCP ì„œë²„ì™€ ì›¹ ì•±ì´ ë™ì¼ ìŠ¤í‚¤ë§ˆë¥¼ importë¡œ ê³µìœ í•˜ê¸° ì‰¬ì›€
better-sqlite3 ì§ì ‘ ì‚¬ìš©ìœ¼ë¡œ MCP stdio í”„ë¡œì„¸ìŠ¤ì—ì„œ ê°€ë²¼ì›€
ë§ˆì´ê·¸ë ˆì´ì…˜ì´ SQL íŒŒì¼ ê¸°ë°˜ìœ¼ë¡œ ì§ê´€ì 
---
MCP ì„œë²„ ì„¤ê³„
.mcp.json (í”„ë¡œì íŠ¸ ë£¨íŠ¸, ë²„ì „ ê´€ë¦¬ë¨)
{
"mcpServers": {
"context-manager": {
"command": "npx",
"args": ["tsx", "./mcp/index.ts"],
"env": {
"DATABASE_PATH": "./data/app.db"
}
}
}
}
ë³´ì¼ëŸ¬í”Œë ˆì´íŠ¸ ê¸°ë³¸ MCP ë„êµ¬ (ë„ë©”ì¸ êµì²´ìš© ì˜ˆì‹œ)
Tool
ìš©ë„
ì»¤ìŠ¤í…€ í¬ì¸íŠ¸
------
------
-------------
list-items
ì „ì²´ ì—”í‹°í‹° ëª©ë¡ ì¡°íšŒ
ì—”í‹°í‹°ëª…, í•„ë“œ
get-item
ìƒì„¸ ì¡°íšŒ
ê´€ê³„, í•„ë“œ
search-items
ê²€ìƒ‰
ê²€ìƒ‰ ëŒ€ìƒ í•„ë“œ
summarize
ìš”ì•½/í†µê³„
ì§‘ê³„ ë¡œì§
analyze
ë¶„ì„ (ë¦¬ë°¸ëŸ°ì‹±, ì¶”ì„¸ ë“±)
ë„ë©”ì¸ ë¶„ì„ ë¡œì§
MCP Prompts (ì˜ˆì‹œ)
review-current-state â€” í˜„ì¬ ìƒíƒœ ìŠ¤ëƒ…ìƒ· + ë¶„ì„ ìš”ì²­
suggest-improvements â€” ê°œì„  ì œì•ˆ
---
ë°°í¬ (ê¸°ì¡´ ì¸í”„ë¼ 100% í™œìš©)
Dockerfile (react-router-ssr ë³´ì¼ëŸ¬í”Œë ˆì´íŠ¸ íŒ¨í„´)
FROM node:22-alpine AS builder
RUN corepack enable \&\& corepack prepare pnpm@latest --activate
WORKDIR /app
COPY package.json pnpm-lock.yaml ./
RUN pnpm install --frozen-lockfile
COPY . .
RUN pnpm build

FROM node:22-alpine AS runner
RUN corepack enable \&\& corepack prepare pnpm@latest --activate
WORKDIR /app
ENV NODE_ENV=production
COPY package.json pnpm-lock.yaml ./
RUN pnpm install --frozen-lockfile --prod
COPY --from=builder /app/build ./build
COPY --from=builder /app/drizzle ./drizzle
RUN mkdir -p /data
EXPOSE 3000
CMD ["pnpm", "start"]
my-devops ì—°ë™
degit í›„ ì‹¤ì œ í”„ë¡œì íŠ¸ì—ì„œ:
services/codepoet-linux-1/{app-name}/docker-compose.yml ì‘ì„±
Traefik ë¼ë²¨ (ì™€ì¼ë“œì¹´ë“œ DNS/Tunnel ì´ë¯¸ ì ìš©)
portainer-gitops.sh STACKS ë“±ë¡
---
êµ¬í˜„ ìˆœì„œ
Phase 1: ì¹´í…Œê³ ë¦¬ ì…‹ì—…
ai-context/ í´ë” ìƒì„±
pnpm-workspace.yamlì— "ai-context/*" ì¶”ê°€
ai-context/README.md ì‘ì„± (ì¹´í…Œê³ ë¦¬ ê°œìš”, ì„ íƒ ê°€ì´ë“œ)
context.md ì—…ë°ì´íŠ¸
Phase 2: ë³´ì¼ëŸ¬í”Œë ˆì´íŠ¸ ê³¨ê²© (react-router-ssrì—ì„œ ë³µì œ)
web/react-router-ssr/ â†’ ai-context/react-router-ssr-mcp/ ë³µì‚¬
ë¶ˆí•„ìš”í•œ íŒŒì¼ ì œê±°, íŒ¨í‚¤ì§€ëª… ë³€ê²½
Drizzle ORM ì¶”ê°€ (schema.ts, index.ts, drizzle.config.ts)
ì˜ˆì‹œ DB ìŠ¤í‚¤ë§ˆ ì‘ì„± (ìì‚°ê´€ë¦¬ ë„ë©”ì¸ìœ¼ë¡œ)
Phase 3: ì•± ì…¸ ë ˆì´ì•„ì›ƒ
shadcn/ui ì»´í¬ë„ŒíŠ¸ ì„¤ì¹˜ (button, card, table, dialog, form, input, select, badge, tabs, sidebar, sheet)
ì‚¬ì´ë“œë°” ë ˆì´ì•„ì›ƒ (app-shell, sidebar, header)
ë¼ìš°íŠ¸ ê³¨ê²©: home, items, items.\$id, import
Phase 4: MCP ì„œë²„
@modelcontextprotocol/sdk + tsx ì„¤ì¹˜
mcp/ í´ë” êµ¬ì¡° ìƒì„±
ê¸°ë³¸ ë„êµ¬ êµ¬í˜„ (list, get, search, summarize, analyze)
.mcp.json ì‘ì„±
package.jsonì— "mcp:dev": "npx tsx mcp/index.ts" ì¶”ê°€
Phase 5: ë¬¸ì„œ \& CI
CLAUDE.md ì‘ì„± (ë³´ì¼ëŸ¬í”Œë ˆì´íŠ¸ìš© â€” ì»¤ìŠ¤í…€ ê°€ì´ë“œ í¬í•¨)
ai-context/docs/index.md ì‘ì„±
CI ë§¤íŠ¸ë¦­ìŠ¤ì— ì¶”ê°€ (.github/workflows, .gitlab-ci.yml)
degit ì‹œë®¬ë ˆì´ì…˜ í…ŒìŠ¤íŠ¸
Phase 6: ê²€ì¦
pnpm install \&\& pnpm build \&\& pnpm typecheck í†µê³¼
pnpm dev ë¡œì»¬ ë™ì‘ í™•ì¸
pnpm mcp:dev â†’ Claude Codeì—ì„œ MCP ë„êµ¬ ì¸ì‹ í™•ì¸
Docker ë¹Œë“œ ì„±ê³µ
---
ì‚¬ìš© ì›Œí¬í”Œë¡œìš° (degit í›„)

# 1. ë³´ì¼ëŸ¬í”Œë ˆì´íŠ¸ ë³µì œ

npx degit user/my-boilerplates/ai-context/react-router-ssr-mcp poc-asset-chatbot
cd poc-asset-chatbot

# 2. ë„ë©”ì¸ ì»¤ìŠ¤í…€ (ï¿½ï¿½ íŒŒì¼ë“¤ë§Œ ìˆ˜ì •)

# - app/db/schema.ts â†’ ìì‚° ì—”í‹°í‹°ë¡œ ë³€ê²½

# - app/lib/queries.ts â†’ ìì‚° ì¿¼ë¦¬ë¡œ ë³€ê²½

# - mcp/tools/ â†’ ìì‚° ë¶„ì„ ë„êµ¬ë¡œ ë³€ê²½

# - CLAUDE.md â†’ ìì‚°ê´€ë¦¬ ë§¥ë½ìœ¼ë¡œ ìˆ˜ì •

# 3. ì˜ì¡´ì„± ì„¤ì¹˜ \& ê°œë°œ

pnpm install
pnpm db:push   \# ìŠ¤í‚¤ë§ˆ ì ìš©
pnpm dev       \# ì›¹ ì•±

# 4. Claude Codeì—ì„œ MCP ìë™ ì¸ì‹

claude  \# .mcp.json ìë™ ë¡œë“œ â†’ context-manager ì„œë²„ ì‚¬ìš© ê°€ëŠ¥
---
ë³´ì¼ëŸ¬í”Œë ˆì´íŠ¸ì— í¬í•¨í•  ì˜ˆì‹œ ë„ë©”ì¸
ì²« ë³´ì¼ëŸ¬í”Œë ˆì´íŠ¸ëŠ” ìì‚°ê´€ë¦¬ ë„ë©”ì¸ì„ ì˜ˆì‹œë¡œ í¬í•¨:
portfolios, assets, holdings, transactions, market_prices í…Œì´ë¸”
í¬íŠ¸í´ë¦¬ì˜¤ ëŒ€ì‹œë³´ë“œ, ìì‚° ëª©ë¡, ê±°ë˜ ë‚´ì—­ UI
ë¦¬ë°¸ëŸ°ì‹± ë¶„ì„, ì„¹í„° ë¶„ì„ MCP ë„êµ¬
CLAUDE.mdì— "ì´ ì˜ˆì‹œë¥¼ êµì²´í•˜ëŠ” ë°©ë²•" ê°€ì´ë“œ í¬í•¨.

---

1. ë‚´ ì•±ì•ˆì— claude codeë¥¼ ë‚´ì¥í•˜ë ¤ê³  í–ˆëŠ”ë° ë‹¤ë¥¸ ì„¤ê³„ê°€ ë‚˜ì™”ëŠ”ë°... ë”°ì§€ê³  ë³´ë©´ ì´ê²ƒë„ ì¢‹ìŒ. ë­ê°€ëë“  ë‚´ ì•±ì´ aië¡œ ì†Œí†µí• ìˆ˜ìˆëŠ” êµ¬ì¡°ì—¬ì•¼í•¨. ê·¼ë° mcpë§ê³  skillë¡œ ë™ì‘í•´ë„ ì¢‹ì„ê±°ê°™ì•„. mcpë©´ ì¸í„°í˜ì´ìŠ¤ê¹Œì§€ ëª¨ë‘ ì²˜ë¦¬ë˜ê¸´í•˜ëŠ”ë° ...

ê³„íš ë¬¸ì„œë¥¼ ì§ì ‘ ê²€í† í–ˆìŠµë‹ˆë‹¤. ë§¤ìš° ì˜ ì„¤ê³„ëœ ê³„íšì´ì§€ë§Œ, ë§ˆì§€ë§‰ ì§ˆë¬¸ â€” **MCP vs Skill** â€” ì´ í•µì‹¬ì…ë‹ˆë‹¤. ì œëŒ€ë¡œ ê²€ì¦í•´ë“œë¦¬ê² ìŠµë‹ˆë‹¤.

***

## ê³„íš ì „ë°˜ í‰ê°€

ê³„íš ìì²´ëŠ” **íƒ„íƒ„í•©ë‹ˆë‹¤.** ê¸°ì¡´ 9ê°œ í”„ë¡œì íŠ¸ íŒ¨í„´ì„ 100% ì¤€ìˆ˜í•˜ê³ , degit ì›Œí¬í”Œë¡œìš°, Docker ë°°í¬, Drizzle ì„ íƒ ì´ìœ ê¹Œì§€ ë…¼ë¦¬ì ìœ¼ë¡œ ì¼ê´€ë©ë‹ˆë‹¤. ì‹¤í–‰ ê°€ëŠ¥ì„± ë†’ìŒ.

**ì˜ ëœ ì :**

- `ğŸ¯` í‘œì‹œë¡œ ì»¤ìŠ¤í…€ í¬ì¸íŠ¸ ëª…í™•íˆ êµ¬ë¶„ â€” degit í›„ ì‘ì—… ë²”ìœ„ê°€ ì¦‰ì‹œ íŒŒì•…ë¨
- Phase ìˆœì„œê°€ ì˜ì¡´ì„±ì„ ì˜ ë”°ë¦„ (ê³¨ê²© â†’ ë ˆì´ì•„ì›ƒ â†’ MCP â†’ ê²€ì¦)
- `.mcp.json` ë²„ì „ ê´€ë¦¬ í¬í•¨ â†’ íŒ€ì› onboarding ë¹„ìš© 0

***

## MCP vs Skill: í•µì‹¬ íŠ¸ë ˆì´ë“œì˜¤í”„

ì´ê²Œ ì§„ì§œ ì„¤ê³„ ê²°ì •ì…ë‹ˆë‹¤.


| í•­ëª© | MCP ì„œë²„ | Skill (ì§ì ‘ í˜¸ì¶œ) |
| :-- | :-- | :-- |
| **ì¸í„°í˜ì´ìŠ¤** | Claude Code/Desktopì´ ìë™ ì²˜ë¦¬ | ì•±ì´ ì§ì ‘ AI API í˜¸ì¶œ |
| **ì‚¬ìš© ì£¼ì²´** | ê°œë°œì ë³¸ì¸ (CLI ì›Œí¬í”Œë¡œìš°) | ì•± ì‚¬ìš©ì (ì›¹ UI) |
| **êµ¬í˜„ ë¹„ìš©** | ë³„ë„ í”„ë¡œì„¸ìŠ¤, stdio transport | ë‹¨ìˆœ fetch/API call |
| **ìœ ì—°ì„±** | Claude Code ìƒíƒœê³„ì— ë¬¶ì„ | ì–´ë–¤ LLMë„ êµì²´ ê°€ëŠ¥ |
| **DB ì ‘ê·¼** | MCP â†’ DB ì§ì ‘ ì½ê¸° ê°€ëŠ¥ | ì•± ì„œë²„ê°€ ì¤‘ê°œ |
| **ë³´ì•ˆ** | ë¡œì»¬ ì‹¤í–‰, ì™¸ë¶€ ë…¸ì¶œ ì—†ìŒ | API í‚¤ ê´€ë¦¬ í•„ìš” |


***

## ì§„ì§œ ì§ˆë¬¸: ëˆ„ê°€ AIì™€ ëŒ€í™”í•˜ëŠ”ê°€?

ì´ê²Œ ì„¤ê³„ ë¶„ê¸°ì ì…ë‹ˆë‹¤.

**ì‹œë‚˜ë¦¬ì˜¤ A â€” ê°œë°œì(ë³¸ì¸)ê°€ Claude Codeë¡œ ë°ì´í„° ë¶„ì„:**
â†’ **MCPê°€ ì •ë‹µ.** `.mcp.json`ë§Œ ìˆìœ¼ë©´ `claude` ì‹¤í–‰ ì¦‰ì‹œ DB ì ‘ê·¼, ë¦¬ë°¸ëŸ°ì‹± ë¶„ì„, ìì—°ì–´ ì¿¼ë¦¬ ëª¨ë‘ ê°€ëŠ¥. ë³„ë„ UI ê°œë°œ ë¶ˆí•„ìš”.

**ì‹œë‚˜ë¦¬ì˜¤ B â€” ì›¹ ì•± ì‚¬ìš©ìê°€ ì±„íŒ… UIë¡œ AIì™€ ëŒ€í™”:**
â†’ **Skillì´ ì •ë‹µ.** ì›¹ ì•±ì—ì„œ ì§ì ‘ `anthropic.messages.create()` í˜¸ì¶œ, DB í•¨ìˆ˜ë¥¼ toolë¡œ ë“±ë¡. MCP ì„œë²„ ë³„ë„ ì‹¤í–‰ í•„ìš” ì—†ìŒ.

**ì‹œë‚˜ë¦¬ì˜¤ C â€” ë‘˜ ë‹¤:**
â†’ **MCP + Skill ê³µì¡´ì´ ê°€ëŠ¥í•˜ê³ , ì´ê²Œ í˜„ì¬ ê³„íšì˜ ìˆ¨ê²¨ì§„ ê°•ì ì…ë‹ˆë‹¤.** `mcp/tools/`ì˜ ë¡œì§ì„ `app/lib/skills/`ë¡œ ë¶„ë¦¬í•˜ë©´, ê°™ì€ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ MCP toolë¡œë„, ì›¹ ì•±ì˜ AI toolë¡œë„ ë“±ë¡í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

***

## ê¶Œì¥ ì•„í‚¤í…ì²˜ ê°œì„ ì•ˆ

í˜„ì¬ ê³„íšì—ì„œ ì‘ì€ ë¦¬íŒ©í† ë§ í•˜ë‚˜ë¥¼ ì¶”ì²œí•©ë‹ˆë‹¤:

```
app/
â”œâ”€â”€ lib/
â”‚   â”œâ”€â”€ queries.ts        # DB ì¿¼ë¦¬ (ê¸°ì¡´)
â”‚   â””â”€â”€ skills/           # ğŸ†• ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ë ˆì´ì–´
â”‚       â”œâ”€â”€ list-items.ts
â”‚       â”œâ”€â”€ summarize.ts
â”‚       â””â”€â”€ analyze.ts    # ğŸ¯ ë„ë©”ì¸ ì»¤ìŠ¤í…€

mcp/
â””â”€â”€ tools/
    â””â”€â”€ index.ts          # skills/* importí•´ì„œ MCP toolë¡œ ë˜í•‘ë§Œ í•¨

app/routes/
â””â”€â”€ api.chat.ts           # skills/* importí•´ì„œ Anthropic toolë¡œ ë˜í•‘
```

ì´ë ‡ê²Œ í•˜ë©´ **ê°™ì€ ì½”ë“œ**ë¥¼ MCP(ê°œë°œì CLI)ì™€ ì›¹ ì±„íŒ… UI(ì‚¬ìš©ì) ì–‘ìª½ì—ì„œ ì¬ì‚¬ìš©í•©ë‹ˆë‹¤. ì¤‘ë³µ ì—†ì´ ë‘ ë§ˆë¦¬ í† ë¼ ì¡ê¸° ê°€ëŠ¥.

***

## í•œ ì¤„ ê²°ë¡ 

> **MCPë¥¼ ë²„ë¦¬ì§€ ë§ê³ , Skill ë ˆì´ì–´ë¥¼ ê·¸ ì•„ë˜ì— ì¶”ê°€í•˜ì„¸ìš”.** MCPëŠ” ê°œë°œì ì›Œí¬í”Œë¡œìš°, Skillì€ ì•± ì‚¬ìš©ì ì±„íŒ… UI â€” ê°™ì€ ë¡œì§, ë‹¤ë¥¸ ì¸í„°í˜ì´ìŠ¤.

Phase 4ì—ì„œ `mcp/tools/` êµ¬í˜„ ì‹œ `app/lib/skills/`ë¡œ ë¨¼ì € ë¡œì§ì„ ë¹¼ê³ , MCP toolì´ ê·¸ê±¸ importí•˜ëŠ” êµ¬ì¡°ë¡œ ì‹œì‘í•˜ë©´ í–¥í›„ ì›¹ ì±„íŒ… ê¸°ëŠ¥ ì¶”ê°€ê°€ trivialí•´ì§‘ë‹ˆë‹¤.

---

# claudecodeë¥¼ ë” ìƒìœ„ì— ë‘ë©´ osì²˜ëŸ¼ ì“°ëŠ”ê±´ë°, ì´ê²Œ ì ‘ê·¼ì„±ì´ ë–¨ì–´ì§€ë‹ˆê¹Œ ë©”ì‹ ì €ì±—ì´ë‚˜ ì›¹ìœ¼ë¡œ í•˜ê³  ì‹¶ê³  ê·¸ëŸ¬ë‹¤ë³´ë‹ˆ ë­”ê°€ ì—­ì „ë˜ëŠ”ëŠë‚Œì´ ë“¤ê¸°ë„ í•˜ê³  ê·¸ë˜.

ê·¸ ëŠë‚Œì´ ì •í™•í•©ë‹ˆë‹¤. êµ¬ì¡°ì ìœ¼ë¡œ ì •ë¦¬í•˜ë©´:

***

## ì§€ê¸ˆ ëŠë¼ëŠ” "ì—­ì „"ì˜ ë³¸ì§ˆ

ì›ë˜ ìƒìƒí–ˆë˜ êµ¬ì¡°:

```
Claude Code (OSì²˜ëŸ¼)
    â””â”€â”€ ë‚´ ì•± ë°ì´í„°ë¥¼ MCPë¡œ ì½ìŒ
```

ê·¼ë° ì ‘ê·¼ì„± ë•Œë¬¸ì— ì›í•˜ëŠ” êµ¬ì¡°:

```
ë©”ì‹ ì € / ì›¹ UI (ì§„ì…ì )
    â””â”€â”€ AIê°€ ë‚´ ì•± ë°ì´í„°ë¥¼ ë¶„ì„
```

ì´ê±´ ì—­ì „ì´ ì•„ë‹ˆë¼ **"AIë¥¼ ì–´ë””ì— embedí•˜ëŠëƒ"** ì˜ ì°¨ì´ì…ë‹ˆë‹¤. Claude CodeëŠ” ê°•ë ¥í•˜ì§€ë§Œ í„°ë¯¸ë„ ì—¬ëŠ” ì‚¬ëŒë§Œ ì”ë‹ˆë‹¤. ë©”ì‹ ì €/ì›¹ì€ ëˆ„êµ¬ë‚˜ ì”ë‹ˆë‹¤.

***

## ì‹¤ì œë¡œ ë‘ íŒ¨ëŸ¬ë‹¤ì„ì€ ë‹¤ë¦…ë‹ˆë‹¤

|  | Claude Code + MCP | ë©”ì‹ ì €/ì›¹ ì±„íŒ… |
| :-- | :-- | :-- |
| **AI ìœ„ì¹˜** | AIê°€ ì£¼ì²´, ì•±ì€ ë°ì´í„° ì†ŒìŠ¤ | ì•±ì´ ì£¼ì²´, AIëŠ” ê¸°ëŠ¥ ì¤‘ í•˜ë‚˜ |
| **ì‚¬ìš©ì** | ê°œë°œì ë³¸ì¸ | ë³¸ì¸ í¬í•¨ ëˆ„êµ¬ë‚˜ |
| **ì»¨í…ìŠ¤íŠ¸** | AIê°€ ëŠ¥ë™ì ìœ¼ë¡œ íƒìƒ‰ | ì‚¬ìš©ìê°€ ì§ˆë¬¸, AIê°€ ì‘ë‹µ |
| **ì¸í„°í˜ì´ìŠ¤** | í„°ë¯¸ë„ | ì–´ë””ì„œë‚˜ |


***

## ì—­ì „ì²˜ëŸ¼ ëŠê»´ì§€ëŠ” ì´ìœ 

Claude Codeë¥¼ OSì²˜ëŸ¼ ì“¸ ë•ŒëŠ” **AIê°€ orchestrator**ì…ë‹ˆë‹¤. MCPë¡œ DB ì½ê³ , íŒŒì¼ ì“°ê³ , ë¶„ì„ê¹Œì§€ AIê°€ ì£¼ë„í•©ë‹ˆë‹¤.

ì›¹/ë©”ì‹ ì €ë¡œ ê°€ë©´ **ì•±ì´ orchestrator**ê°€ ë©ë‹ˆë‹¤. ì‚¬ìš©ì ì…ë ¥ ë°›ê³ , AI API í˜¸ì¶œí•˜ê³ , ê²°ê³¼ ë Œë”ë§ê¹Œì§€ ì•±ì´ ì œì–´í•©ë‹ˆë‹¤. AIëŠ” `tool`ì„ í˜¸ì¶œë°›ëŠ” ì¡´ì¬ë¡œ ê²©í•˜(?)ë˜ëŠ” ëŠë‚Œ.

ê·¼ë° ì´ê²Œ ì‚¬ì‹¤ **ë” ì‹¤ìš©ì ì¸ êµ¬ì¡°**ì…ë‹ˆë‹¤. AIë¥¼ ë¯¿ê³  ì „ê¶Œì„ ì£¼ëŠ” ê²ƒë³´ë‹¤, ì•±ì´ ì œì–´ê¶Œì„ ê°–ê³  AIë¥¼ í˜¸ì¶œí•˜ëŠ” ê²Œ ì˜ˆì¸¡ ê°€ëŠ¥í•˜ê³  ì•ˆì •ì ì…ë‹ˆë‹¤.

***

## ì‹¤ì œë¡œ ë‘˜ì„ í•©ì¹˜ëŠ” ë°©ë²•

ì—­ì „ ëŠë‚Œì„ í•´ì†Œí•˜ëŠ” ì ‘ê·¼ì´ ìˆìŠµë‹ˆë‹¤ â€” **ë©”ì‹ ì €ë¥¼ Claude Codeì˜ ì›ê²© ì¸í„°í˜ì´ìŠ¤ë¡œ ë§Œë“¤ê¸°.**

```
Telegram/Slack ë©”ì‹œì§€
    â””â”€â”€ n8n ë˜ëŠ” webhook
        â””â”€â”€ Claude Code (headless) ì‹¤í–‰
            â””â”€â”€ .mcp.json â†’ DB ì½ê¸°/ë¶„ì„
                â””â”€â”€ ê²°ê³¼ë¥¼ ë©”ì‹ ì €ë¡œ reply
```

ì´ë¯¸ n8nì´ ì¸í”„ë¼ì— ìˆê³ , Claude CodeëŠ” `--print` í”Œë˜ê·¸ë¡œ headless ì‹¤í–‰ì´ ë©ë‹ˆë‹¤. ì´ëŸ¬ë©´ Claude Codeê°€ ì—¬ì „íˆ OS ì—­í• ì„ í•˜ê³ , ë©”ì‹ ì €ëŠ” ê·¸ëƒ¥ í„°ë¯¸ë„ ëŒ€ì‹  ì“°ëŠ” **ì ‘ê·¼ ì¸í„°í˜ì´ìŠ¤**ê°€ ë©ë‹ˆë‹¤. ì—­ì „ ì—†ìŒ.

***

## ê²°ë¡ : ì–´ë–¤ ê±¸ ì„ íƒí•˜ë“  ê¸°ì¤€ì€ í•˜ë‚˜

> **"AIê°€ ëŠ¥ë™ì ìœ¼ë¡œ íŒë‹¨í•´ì•¼ í•˜ëŠ”ê°€, ì•„ë‹ˆë©´ ì‚¬ìš©ì ì§ˆë¬¸ì— ë°˜ì‘í•˜ë©´ ë˜ëŠ”ê°€?"**

- ë¦¬ë°¸ëŸ°ì‹± ì•Œë¦¼, ì´ìƒ ê°ì§€, ì •ê¸° ë¦¬í¬íŠ¸ â†’ **Claude Code headless + ë©”ì‹ ì € ë…¸í‹°**
- ì‚¬ìš©ìê°€ ì§ˆë¬¸í•˜ê³  AIê°€ ë‹µí•˜ëŠ” ì±„íŒ… â†’ **ì›¹ ì•± embed AI (Skill êµ¬ì¡°)**

ë³´ì¼ëŸ¬í”Œë ˆì´íŠ¸ í•˜ë‚˜ë¡œ ë‘ íŒ¨í„´ ëª¨ë‘ ì§€ì›í•˜ë ¤ë©´ ì–µì§€ìŠ¤ëŸ¬ì›Œì§‘ë‹ˆë‹¤. **ìš©ë„ì— ë”°ë¼ ë¶„ë¦¬**í•˜ëŠ” ê²Œ ë§ê³ , ì§€ê¸ˆ ê³„íšì˜ MCP êµ¬ì¡°ëŠ” ì²« ë²ˆì§¸ íŒ¨í„´ì— ìµœì í™”ëœ ê²ë‹ˆë‹¤.

---

# í˜„ì¬ ê³„íšì´ë©´ ì›¹ì´ë‚˜ ë©”ì‹ ì €ì—ì„œ ì±„íŒ…ìœ¼ë¡œ ì§€ì‹œí•´ì„œ ì‹¤ì œ ì‘ì—…ë„ í•˜ê³  ê²°ê³¼ë„ ë‹¤ì‹œ ë°›ì•„ë³¼ìˆ˜ìˆë‹ˆ? ì±„íŒ… ì£¼ê³ ë°›ëŠ”ê±° claude codeì²˜ëŸ¼ í•˜ë˜ ì›¹ìœ¼ë¡œ ë©í•‘í•´ì„œ ë³´ê³  ì‹¶ì€ê±°ê±°ë“ ?

í˜„ì¬ ê³„íšìœ¼ë¡œëŠ” **ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤.** ê²°ì •ì ì¸ ê°­ì´ ìˆìŠµë‹ˆë‹¤.

***

## í˜„ì¬ ê³„íšì´ í•  ìˆ˜ ìˆëŠ” ê²ƒ

```
ì›¹ UI â†’ CRUD (ì»¨í…ìŠ¤íŠ¸ ê´€ë¦¬)
Claude Code CLI â†’ MCPë¡œ DB ì½ê¸°/ë¶„ì„
```

ì´ ë‘˜ì€ **ë¶„ë¦¬ëœ ì±„ë„**ì…ë‹ˆë‹¤. ì›¹ì—ì„œ ì±„íŒ… ë³´ë‚´ë©´ Claude Codeê°€ ë°›ëŠ” ì—°ê²°ì´ ì—†ìŠµë‹ˆë‹¤.

***

## ì›í•˜ëŠ” ê²ƒ

```
ì›¹/ë©”ì‹ ì € ì±„íŒ…ì°½
    â””â”€â”€ ë©”ì‹œì§€ ì „ì†¡
        â””â”€â”€ AIê°€ DB ì½ê³ , ë¶„ì„í•˜ê³ , ì‹¤ì œ ì‘ì—… ì‹¤í–‰
            â””â”€â”€ ê²°ê³¼ë¥¼ ì±„íŒ…ì°½ì— ìŠ¤íŠ¸ë¦¬ë°ìœ¼ë¡œ ì‘ë‹µ
```

ì´ê²Œ Claude Codeì²˜ëŸ¼ ë™ì‘í•˜ë˜ ì›¹ìœ¼ë¡œ ë˜í•‘ëœ êµ¬ì¡° â€” ì‚¬ì‹¤ìƒ **Claude Codeì˜ ì›¹ í´ë¼ì´ì–¸íŠ¸**ë¥¼ ì§ì ‘ ë§Œë“œëŠ” ê²ë‹ˆë‹¤.

***

## í•„ìš”í•œ ì¶”ê°€ ìš”ì†Œ

í˜„ì¬ ê³„íšì—ì„œ ë¹ ì§„ ê²ƒë“¤:

**1. ì±„íŒ… API ë¼ìš°íŠ¸** â€” í˜„ì¬ ì—†ìŒ

```ts
// app/routes/api.chat.ts  â† ì—†ìŒ
// POST /api/chat â†’ Anthropic API í˜¸ì¶œ + SSE ìŠ¤íŠ¸ë¦¬ë°
```

**2. AIì—ê²Œ ì¤„ Tools** â€” MCP toolì„ ì›¹ ì„œë²„ìš©ìœ¼ë¡œ ì¬ë“±ë¡í•´ì•¼ í•¨

```ts
// MCP toolì´ë‘ ë³„ê°œë¡œ Anthropic tool_use ìŠ¤í™ìœ¼ë¡œ ë‹¤ì‹œ ì •ì˜ í•„ìš”
tools: [{ name: "list-items", ... }, { name: "analyze", ... }]
```

**3. ì±„íŒ… UI ì»´í¬ë„ŒíŠ¸** â€” í˜„ì¬ ì—†ìŒ

```
ë©”ì‹œì§€ íˆìŠ¤í† ë¦¬, ì…ë ¥ì°½, ìŠ¤íŠ¸ë¦¬ë° í…ìŠ¤íŠ¸ ë Œë”ë§, tool ì‹¤í–‰ ìƒíƒœ í‘œì‹œ
```

**4. ëŒ€í™” íˆìŠ¤í† ë¦¬ ì €ì¥** â€” í˜„ì¬ ì—†ìŒ

```ts
// conversations, messages í…Œì´ë¸” ì¶”ê°€ í•„ìš”
```


***

## êµ¬ì¡° ë¹„êµ

|  | í˜„ì¬ ê³„íš | ì›í•˜ëŠ” ê²ƒ |
| :-- | :-- | :-- |
| ì±„íŒ… ì£¼ì²´ | Claude Code (ë¡œì»¬ CLI) | ì›¹ ì„œë²„ (API ì„œë²„ê°€ AI í˜¸ì¶œ) |
| Tool ì‹¤í–‰ | MCP stdio | Anthropic tool_use ë£¨í”„ |
| ê²°ê³¼ í‘œì‹œ | í„°ë¯¸ë„ | ì›¹ ì±„íŒ… ìŠ¤íŠ¸ë¦¬ë° |
| ëŒ€í™” ì €ì¥ | ì—†ìŒ | DB conversations í…Œì´ë¸” |
| ì¶”ê°€ êµ¬í˜„ëŸ‰ | â€” | ìƒë‹¹í•¨ (ì±„íŒ… UI + agentic loop) |


***

## ì‹¤ì§ˆì  ê¶Œì¥

ê³„íšì„ ë‘ ë ˆì´ì–´ë¡œ ëª…í™•íˆ ë‚˜ëˆ„ì„¸ìš”:

```
ë³´ì¼ëŸ¬í”Œë ˆì´íŠ¸ ë ˆì´ì–´ 1 (í˜„ì¬ ê³„íš ê·¸ëŒ€ë¡œ)
â†’ ì›¹ CRUD UI + MCP ì„œë²„
â†’ ê°œë°œìê°€ Claude Codeë¡œ ë¶„ì„í•˜ëŠ” ìš©ë„

ë³´ì¼ëŸ¬í”Œë ˆì´íŠ¸ ë ˆì´ì–´ 2 (ì¶”ê°€ êµ¬í˜„)
â†’ /chat ë¼ìš°íŠ¸ + Anthropic agentic loop
â†’ tool_useë¡œ DB ì¡°ì‘ê¹Œì§€ ê°€ëŠ¥
â†’ ì¼ë°˜ ì‚¬ìš©ìê°€ ì›¹ ì±„íŒ…ìœ¼ë¡œ ì“°ëŠ” ìš©ë„
```

ë ˆì´ì–´ 2ê°€ ìˆì–´ì•¼ "Claude Codeì²˜ëŸ¼ ì›¹ì—ì„œ" ê°€ ë©ë‹ˆë‹¤. í˜„ì¬ Phase 4 MCP ì„œë²„ êµ¬í˜„ ì§í›„, **Phase 4.5ë¡œ ì±„íŒ… ë¼ìš°íŠ¸ + agentic loop**ë¥¼ ë¼ì›Œ ë„£ëŠ” ê²Œ ìì—°ìŠ¤ëŸ¬ìš´ ìˆœì„œì…ë‹ˆë‹¤. Skill ë ˆì´ì–´ë¡œ ë¡œì§ì„ ê³µìœ í•˜ë©´ ì¤‘ë³µ ì—†ì´ ë¶™ì¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

# ì‘ ê·¸ëŸ¬ë©´ ì›¹ì—ì„œ ë°”ë¡œ ë‚´ ì›¹ì„ ê³ ì³ë‚˜ê°€ëŠ”ëŠë‚Œì´ ë“¤ê±°ê°™ì•„ì„œ.

ë§ì•„ìš”, ê·¸ê²Œ í•µì‹¬ì…ë‹ˆë‹¤.

***

## ì§€ê¸ˆ ìƒìƒí•˜ëŠ” ê²ƒ

```
ì›¹ ì±„íŒ…ì°½ì—ì„œ:
"í¬íŠ¸í´ë¦¬ì˜¤ ì‚¼ì„±ì „ì ë¹„ì¤‘ ì¤„ì´ê³  í˜„ê¸ˆ ëŠ˜ë ¤ì¤˜"
    â†’ AIê°€ DB ìˆ˜ì •
    â†’ ì›¹ UIê°€ ì‹¤ì‹œê°„ìœ¼ë¡œ ë°”ë€œ
```

ì´ê²Œ ë‹¨ìˆœí•œ "AI ì±„íŒ… ì•±"ì´ ì•„ë‹ˆë¼ **AIê°€ ì•± ìì²´ë¥¼ ì¡°ì‘í•˜ëŠ” êµ¬ì¡°**ì…ë‹ˆë‹¤. Claude Codeê°€ íŒŒì¼ ì‹œìŠ¤í…œì„ ì§ì ‘ ê³ ì¹˜ëŠ” ê²ƒì²˜ëŸ¼, AIê°€ ë‚´ ì•±ì˜ DBë¥¼ ì§ì ‘ ê³ ì¹˜ê³  UIê°€ ê·¸ê±¸ ë°˜ì˜í•˜ëŠ” ê²ƒ.

***

## ì´ êµ¬ì¡°ì˜ ì´ë¦„

ìš”ì¦˜ ì´ê±¸ **"AI-native app"** ë˜ëŠ” **"agentic UI"** ë¼ê³  ë¶€ë¦…ë‹ˆë‹¤. ì±„íŒ…ì´ ë¶€ê°€ ê¸°ëŠ¥ì´ ì•„ë‹ˆë¼ **primary interface**ê°€ ë˜ëŠ” êµ¬ì¡°ì…ë‹ˆë‹¤.

```
ê¸°ì¡´ ì•±: UI â†’ ì‚¬ìš©ìê°€ ë²„íŠ¼/í¼ìœ¼ë¡œ DB ì¡°ì‘
AI-native: ì±„íŒ… â†’ AIê°€ tool_useë¡œ DB ì¡°ì‘ â†’ UIê°€ ë°˜ì˜
```

UIëŠ” **AIê°€ í•œ ì‘ì—…ì˜ ê²°ê³¼ë¥¼ ë³´ì—¬ì£¼ëŠ” ëŒ€ì‹œë³´ë“œ**ë¡œ ì—­í• ì´ ë°”ë€ë‹ˆë‹¤.

***

## ê·¸ëŸ¬ë©´ ë³´ì¼ëŸ¬í”Œë ˆì´íŠ¸ ì„¤ê³„ê°€ ë°”ë€ë‹ˆë‹¤

í˜„ì¬ ê³„íšì˜ ì² í•™: **"ì›¹ UI = ì»¨í…ìŠ¤íŠ¸ ê´€ë¦¬, ì±„íŒ… = Claude Code CLI"**

ë°”ë€Œì–´ì•¼ í•  ì² í•™: **"ì±„íŒ… = primary, ì›¹ UI = ê²°ê³¼ ë·°ì–´"**

```
ai-context/react-router-ssr-mcp/
â”œâ”€â”€ app/routes/
â”‚   â”œâ”€â”€ chat.tsx          â† ë©”ì¸ ì§„ì…ì  (ì§€ê¸ˆì€ ì—†ìŒ)
â”‚   â”œâ”€â”€ dashboard.tsx     â† AIê°€ ë°”ê¾¼ ê²°ê³¼ë¥¼ ë³´ëŠ” ê³³
â”‚   â””â”€â”€ items.tsx         â† ìˆ˜ë™ CRUD (ë³´ì¡° ìˆ˜ë‹¨)
â”‚
â”œâ”€â”€ app/lib/
â”‚   â””â”€â”€ skills/           â† AI tool + ì›¹ CRUD ì–‘ìª½ì´ í˜¸ì¶œ
â”‚
â””â”€â”€ mcp/                  â† ê°œë°œì ì „ìš© (ì„ íƒì )
```


***

## ì†”ì§í•œ í‰ê°€

ì´ ë°©í–¥ì´ ë§ê³  ë” ê°•ë ¥í•œ êµ¬ì¡°ì…ë‹ˆë‹¤. ê·¼ë° **êµ¬í˜„ ë‚œì´ë„ê°€ ì˜¬ë¼ê°‘ë‹ˆë‹¤.**

- agentic loop (tool_use â†’ ì‹¤í–‰ â†’ ê²°ê³¼ â†’ ë‹¤ì‹œ AI â†’ ...) ì§ì ‘ êµ¬í˜„
- ìŠ¤íŠ¸ë¦¬ë° + tool ì‹¤í–‰ ìƒíƒœë¥¼ UIì— í‘œì‹œ
- AIê°€ DBë¥¼ ì˜ëª» ê³ ì¹˜ëŠ” ê²½ìš°ì˜ rollback/confirm ì²˜ë¦¬

Phase ìˆœì„œë¥¼ ë°”ê¾¸ëŠ” ê²Œ ì•„ë‹ˆë¼, **ë³´ì¼ëŸ¬í”Œë ˆì´íŠ¸ì˜ ëª©ì  ìì²´ë¥¼ ì¬ì •ì˜**í•´ì•¼ í•©ë‹ˆë‹¤. ì§€ê¸ˆ ê³„íšì€ "MCP ë¶™ì€ CRUD ì•±"ì´ê³ , ì›í•˜ëŠ” ê±´ "ì±„íŒ…ìœ¼ë¡œ ì¡°ì‘í•˜ëŠ” AI-native ì•±"ì…ë‹ˆë‹¤. ì‹œì‘ì ì´ ë‹¤ë¦…ë‹ˆë‹¤.

**ê³„íšì„ ë‹¤ì‹œ ì“°ê² ìŠµë‹ˆê¹Œ?** ì±„íŒ…ì„ primaryë¡œ, CRUDë¥¼ secondaryë¡œ ë†“ëŠ” êµ¬ì¡°ë¡œ ì¬ì„¤ê³„í•˜ë©´ Phase êµ¬ì„±ë¶€í„° ë‹¬ë¼ì§‘ë‹ˆë‹¤.

---

# ê·¸ë˜ ê·¸ ì² í•™ê³¼ ì•„ê¹Œ ì§€ì í•œ skillì‚¬ìš©ë¶€ë¶„ì„ ì¢€ ê³ ì³ì¤˜

ê³„íšì„ ì¬ì„¤ê³„í•˜ê² ìŠµë‹ˆë‹¤.

***

## ì² í•™ ë³€ê²½

**Before:** "ì›¹ UI = ì»¨í…ìŠ¤íŠ¸ ê´€ë¦¬, ì±„íŒ… = Claude Code CLI"
**After:** "ì±„íŒ… = primary interface, ì›¹ UI = ê²°ê³¼ ëŒ€ì‹œë³´ë“œ"

***

## ë°°ê²½ (ìˆ˜ì •)

ìì‚°ê´€ë¦¬, ë¦¬ë”ì‹­ ê´€ë¦¬, ê²Œì„ êµìœ¡, ì›¹íˆ° ì œì‘ ë“± ë„ë©”ì¸ë§Œ ë°”ê¿”ì„œ ë°˜ë³µ ìƒì„±í•  ì•± êµ¬ì¡°:

- **ì±„íŒ… UI = AIì™€ ëŒ€í™”í•˜ë©° ì‹¤ì œ ë°ì´í„° ì¡°ì‘ + ë¶„ì„** (primary)
- **ëŒ€ì‹œë³´ë“œ/ë·° = AIê°€ ë°”ê¾¼ ê²°ê³¼ë¥¼ ì‹œê°í™”** (secondary)
- **Claude Code CLI + MCP = ê°œë°œì ì „ìš© ë³´ì¡° ìˆ˜ë‹¨** (optional)

***

## ë³´ì¼ëŸ¬í”Œë ˆì´íŠ¸ êµ¬ì¡° (ìˆ˜ì •)

```
ai-context/react-router-ssr-mcp/
â”œâ”€â”€ .mcp.json                    # ê°œë°œì ì „ìš© (optional)
â”œâ”€â”€ CLAUDE.md
â”œâ”€â”€ README.md
â”œâ”€â”€ package.json
â”œâ”€â”€ tsconfig.json
â”œâ”€â”€ vite.config.ts
â”œâ”€â”€ react-router.config.ts
â”œâ”€â”€ components.json
â”œâ”€â”€ drizzle.config.ts
â”œâ”€â”€ Dockerfile
â”œâ”€â”€ docker-compose.yml
â”œâ”€â”€ .nvmrc
â”‚
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ app.css
â”‚   â”œâ”€â”€ root.tsx
â”‚   â”œâ”€â”€ entry.server.tsx
â”‚   â”œâ”€â”€ routes.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ db/
â”‚   â”‚   â”œâ”€â”€ schema.ts            # ğŸ¯ ë„ë©”ì¸ë³„ ì»¤ìŠ¤í…€
â”‚   â”‚   â”œâ”€â”€ index.ts
â”‚   â”‚   â””â”€â”€ seed.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ lib/
â”‚   â”‚   â”œâ”€â”€ utils.ts
â”‚   â”‚   â”œâ”€â”€ queries.ts           # ìˆœìˆ˜ DB ì¿¼ë¦¬ë§Œ (ì½ê¸°/ì“°ê¸° ì›ì ë‹¨ìœ„)
â”‚   â”‚   â””â”€â”€ skills/              # ğŸ†• ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ë ˆì´ì–´
â”‚   â”‚       â”œâ”€â”€ list-items.ts    # ğŸ¯ ë„ë©”ì¸ë³„ ì»¤ìŠ¤í…€
â”‚   â”‚       â”œâ”€â”€ get-item.ts      # ğŸ¯ ë„ë©”ì¸ë³„ ì»¤ìŠ¤í…€
â”‚   â”‚       â”œâ”€â”€ search-items.ts  # ğŸ¯ ë„ë©”ì¸ë³„ ì»¤ìŠ¤í…€
â”‚   â”‚       â”œâ”€â”€ mutate-item.ts   # ğŸ¯ ë„ë©”ì¸ë³„ ì»¤ìŠ¤í…€ (AIê°€ DB ìˆ˜ì •)
â”‚   â”‚       â”œâ”€â”€ summarize.ts     # ğŸ¯ ë„ë©”ì¸ë³„ ì»¤ìŠ¤í…€
â”‚   â”‚       â””â”€â”€ analyze.ts       # ğŸ¯ ë„ë©”ì¸ë³„ ì»¤ìŠ¤í…€
â”‚   â”‚
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ ui/                  # shadcn/ui
â”‚   â”‚   â”œâ”€â”€ chat/                # ğŸ†•
â”‚   â”‚   â”‚   â”œâ”€â”€ chat-panel.tsx   # ì±„íŒ… UI ë©”ì¸ (ìŠ¤íŠ¸ë¦¬ë° + tool ìƒíƒœ)
â”‚   â”‚   â”‚   â”œâ”€â”€ message.tsx      # ë©”ì‹œì§€ ë Œë”ë§ (markdown, tool ê²°ê³¼)
â”‚   â”‚   â”‚   â””â”€â”€ tool-status.tsx  # "DB ìˆ˜ì • ì¤‘..." í‘œì‹œ
â”‚   â”‚   â””â”€â”€ layout/
â”‚   â”‚       â”œâ”€â”€ app-shell.tsx
â”‚   â”‚       â”œâ”€â”€ sidebar.tsx
â”‚   â”‚       â””â”€â”€ header.tsx
â”‚   â”‚
â”‚   â””â”€â”€ routes/
â”‚       â”œâ”€â”€ chat.tsx             # ğŸ†• ë©”ì¸ ì§„ì…ì  (ì±„íŒ… UI)
â”‚       â”œâ”€â”€ api.chat.ts          # ğŸ†• Anthropic agentic loop + SSE ìŠ¤íŠ¸ë¦¬ë°
â”‚       â”œâ”€â”€ dashboard.tsx        # AI ì‘ì—… ê²°ê³¼ ëŒ€ì‹œë³´ë“œ (ê¸°ì¡´ home.tsx)
â”‚       â”œâ”€â”€ items.tsx            # ìˆ˜ë™ CRUD (ë³´ì¡°)
â”‚       â”œâ”€â”€ items.$id.tsx
â”‚       â””â”€â”€ import.tsx
â”‚
â””â”€â”€ mcp/                         # ê°œë°œì ì „ìš© (optional, êµ¬ì¡°ëŠ” ìœ ì§€)
    â”œâ”€â”€ index.ts
    â”œâ”€â”€ tools/
    â”‚   â””â”€â”€ index.ts             # skills/* importí•´ì„œ MCP toolë¡œ ë˜í•‘ë§Œ
    â”œâ”€â”€ resources/
    â”‚   â””â”€â”€ snapshot-resource.ts
    â””â”€â”€ prompts/
        â””â”€â”€ analysis-prompt.ts
```


***

## Skill ë ˆì´ì–´ ì„¤ê³„ (í•µì‹¬)

ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ `skills/`ì— í•œ ë²ˆë§Œ ì‘ì„±í•˜ê³ , **MCP toolê³¼ ì›¹ AI tool ì–‘ìª½ì´ import**í•©ë‹ˆë‹¤.

```ts
// app/lib/skills/analyze.ts  ğŸ¯ ë„ë©”ì¸ë³„ ì»¤ìŠ¤í…€
export async function analyzeSectors(db: Database) {
  const holdings = await getHoldings(db)
  // ë¶„ì„ ë¡œì§
  return { sectors, rebalanceTarget }
}

// mcp/tools/index.ts â€” MCP toolë¡œ ë˜í•‘
import { analyzeSectors } from "~/lib/skills/analyze"
server.tool("analyze", {}, async () => {
  return { content: [{ type: "text", text: JSON.stringify(await analyzeSectors(db)) }] }
})

// app/routes/api.chat.ts â€” Anthropic tool_useë¡œ ë˜í•‘
import { analyzeSectors } from "~/lib/skills/analyze"
const tools = [{
  name: "analyze",
  description: "...",
  input_schema: { type: "object", properties: {} }
}]
// tool_use ê²°ê³¼ë¡œ analyzeSectors() í˜¸ì¶œ
```

ì¤‘ë³µ ì—†ìŒ. ë¡œì§ ìˆ˜ì •ì€ `skills/` í•œ ê³³ë§Œ.

***

## api.chat.ts â€” Agentic Loop

```ts
// app/routes/api.chat.ts
export async function action({ request }) {
  const { messages } = await request.json()

  const stream = await anthropic.messages.stream({
    model: "claude-opus-4-5",
    tools,          // skills/* ê¸°ë°˜ìœ¼ë¡œ ì •ì˜
    messages,
    system: systemPrompt,  // CLAUDE.md ë‚´ìš© ê¸°ë°˜
  })

  // SSEë¡œ ìŠ¤íŠ¸ë¦¬ë° + tool_use ì‹¤í–‰ ë£¨í”„
  return new Response(agenticStream(stream, db), {
    headers: { "Content-Type": "text/event-stream" }
  })
}
```

AIê°€ `mutate-item` toolì„ í˜¸ì¶œí•˜ë©´ ì‹¤ì œ DBê°€ ìˆ˜ì •ë˜ê³ , ì±„íŒ…ì°½ì— "âœ… ì‚¼ì„±ì „ì ë¹„ì¤‘ 15% â†’ 10% ë³€ê²½ë¨" ì´ ìŠ¤íŠ¸ë¦¬ë°ìœ¼ë¡œ í‘œì‹œë©ë‹ˆë‹¤.

***

## ê¸°ìˆ  ìŠ¤íƒ (ìˆ˜ì •)

| Layer | Technology | ê·¼ê±° |
| :-- | :-- | :-- |
| Framework | React Router v7 SSR | ê¸°ì¡´ ë™ì¼ |
| Runtime | Node.js 22 | ê¸°ì¡´ ë™ì¼ |
| Styling | Tailwind v4 + shadcn/ui | ê¸°ì¡´ ë™ì¼ |
| DB | SQLite + Drizzle ORM | ê¸°ì¡´ ë™ì¼ |
| **AI** | **Anthropic SDK (tool_use + streaming)** | **ğŸ†• agentic loop** |
| MCP | @modelcontextprotocol/sdk | ê°œë°œì ì „ìš©, optional |
| Build | Vite 7 | ê¸°ì¡´ ë™ì¼ |
| Deploy | Docker multi-stage | ê¸°ì¡´ ë™ì¼ |


***

## êµ¬í˜„ ìˆœì„œ (ìˆ˜ì •)

**Phase 1â€“2:** ê¸°ì¡´ ë™ì¼ (ì¹´í…Œê³ ë¦¬ ì…‹ì—…, ê³¨ê²© ë³µì œ)

**Phase 3: ì•± ì…¸ + DB**

- shadcn/ui ì»´í¬ë„ŒíŠ¸ ì„¤ì¹˜
- ì‚¬ì´ë“œë°” ë ˆì´ì•„ì›ƒ
- Drizzle ìŠ¤í‚¤ë§ˆ + seed (ìì‚°ê´€ë¦¬ ì˜ˆì‹œ)

**Phase 4: Skill ë ˆì´ì–´** â† ìˆœì„œ ì•ë‹¹ê¹€

- `app/lib/skills/` êµ¬ì¡° ìƒì„±
- ë„ë©”ì¸ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ êµ¬í˜„ (list, get, search, mutate, summarize, analyze)
- `queries.ts`ì™€ ë¶„ë¦¬ ëª…í™•íˆ

**Phase 5: ì±„íŒ… UI + Agentic Loop** â† í•µì‹¬

- `app/routes/api.chat.ts` â€” Anthropic streaming + tool_use loop
- `app/components/chat/` â€” ì±„íŒ… íŒ¨ë„, ìŠ¤íŠ¸ë¦¬ë° ë Œë”ë§, tool ì‹¤í–‰ ìƒíƒœ
- `app/routes/chat.tsx` â€” ë©”ì¸ í˜ì´ì§€
- confirm ê²Œì´íŠ¸: mutate ê³„ì—´ toolì€ ì‹¤í–‰ ì „ ì‚¬ìš©ì í™•ì¸ ì˜µì…˜

**Phase 6: MCP ì„œë²„** â† ë’¤ë¡œ ì´ë™ (ê°œë°œì ì „ìš©, optional)

- `mcp/tools/index.ts` â€” skills/* importí•´ì„œ ë˜í•‘ë§Œ
- `.mcp.json` ì‘ì„±

**Phase 7: ëŒ€ì‹œë³´ë“œ + CRUD**

- `dashboard.tsx` â€” AI ì‘ì—… ê²°ê³¼ ì‹œê°í™”
- `items.tsx` â€” ìˆ˜ë™ CRUD (ë³´ì¡° ìˆ˜ë‹¨)

**Phase 8: ë¬¸ì„œ \& CI**

- CLAUDE.md (ì±„íŒ… ì¤‘ì‹¬ ì»¤ìŠ¤í…€ ê°€ì´ë“œ í¬í•¨)
- degit ì‹œë®¬ë ˆì´ì…˜ í…ŒìŠ¤íŠ¸

***

## ğŸ¯ ì»¤ìŠ¤í…€ í¬ì¸íŠ¸ (ìˆ˜ì •)

degit í›„ ìˆ˜ì •í•  íŒŒì¼ì´ ë‹¬ë¼ì§‘ë‹ˆë‹¤:


| íŒŒì¼ | ì»¤ìŠ¤í…€ ë‚´ìš© |
| :-- | :-- |
| `app/db/schema.ts` | ë„ë©”ì¸ ì—”í‹°í‹° |
| `app/lib/skills/*.ts` | ë„ë©”ì¸ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ |
| `app/routes/api.chat.ts` | system prompt, tool ì •ì˜ |
| `CLAUDE.md` | ë„ë©”ì¸ ì»¨í…ìŠ¤íŠ¸ |
| `app/routes/dashboard.tsx` | ë„ë©”ì¸ ì‹œê°í™” |

MCP ê´€ë ¨ íŒŒì¼ì€ ğŸ¯ì—ì„œ ì œì™¸ â€” skills/ ìˆ˜ì •í•˜ë©´ ìë™ ë°˜ì˜ë¨.

